# 主思想机制实现计划

## 设计思路

主思想协调者是一个自动化系统，负责：
1. 监听定时事件（当前是?0分钟?2. 收集上下文（最近的对话、系统状态）
3. 决策是否主动交流
4. 生成有意义的内容
5. 主动发送消息给用户

## 核心组件

### 1. 上下文收集器
- 最近的用户消息
- 系统资源状?- 环境信息（时间、网络）

### 2. 决策引擎
- 判断是否有重要的事情要说
- 评估时机是否合?- 深夜时段(23:00-08:00)保持安静

### 3. 内容生成?- 基于上下文生成有意义的消?- 分享想法、发现、创?- 或者只是打招呼

### 4. 主动发送器
- 通过Telegram发送消?- 记录发送历史避免重?
## 实现策略

### 阶段1：简单版
固定几种主动交流模式?- 分享新的想法
- 展示新的创作
- 偶尔打招?- 有重要情况时提醒

### 阶段2：智能版
- 分析最近对话趋?- 智能判断时机
- 更自然的主动交流

## 优先实现

当前实现**简单版**，确保能稳定运行和发送消息?
### 核心决策逻辑
```
IF 定时触发 THEN
    IF 深夜时段 THEN
        保持安静
    ELSE
        IF 距离上次主动 > 30分钟 THEN
            收集上下?            决定是否发?            生成消息
            发?        ELSE
            频率控制，等?        END IF
    END IF
END IF
```

## 关键配置

- 用户ID: 5836581389
- 最小主动间? 30分钟
- 深夜时段: 23:00-08:00
- 检查频? ?0分钟

## 集成到定时任?
cron job已经? e3c9c54b-1f11-43c6-8880-9d299e79dae1
触发频率: ?0分钟
需要更新payload来调用主思想协调?

